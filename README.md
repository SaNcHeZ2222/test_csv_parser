üìä CSV Processor

**CSV Processor** ‚Äî —ç—Ç–æ –∫–æ–Ω—Å–æ–ª—å–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ CSV-—Ñ–∞–π–ª–æ–≤. –ù–∞–ø–∏—Å–∞–Ω–∞ –Ω–∞ —á–∏—Å—Ç–æ–º Python, –±–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, –∫—Ä–æ–º–µ `tabulate` –∏ `pytest` (–¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –≤—ã–≤–æ–¥–∞ –∏ —Ç–µ—Å—Ç–æ–≤).

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* üìÅ –ß—Ç–µ–Ω–∏–µ CSV-—Ñ–∞–π–ª–∞ —Å –ª—é–±—ã–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏
* üîç –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –æ–¥–Ω–æ–º—É —É—Å–ª–æ–≤–∏—é (`==`, `>`, `<`, `=` –∫–∞–∫ —Å–∏–Ω–æ–Ω–∏–º `==`)
* üìà –ê–≥—Ä–µ–≥–∞—Ü–∏—è (`avg`, `min`, `max`) –ø–æ —á–∏—Å–ª–æ–≤—ã–º –∫–æ–ª–æ–Ω–∫–∞–º
* üß© –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
* ‚úÖ –£–¥–æ–±–Ω—ã–π CLI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–µ—Ä–µ–∑ `argparse`
* üß™ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ —Å –ø–æ–º–æ—â—å—é `pytest`

---

## üßæ –ü—Ä–∏–º–µ—Ä CSV-—Ñ–∞–π–ª–∞

```csv
name,brand,price,rating
iphone 15 pro,apple,999,4.9
galaxy s23 ultra,samsung,1199,4.8
redmi note 12,xiaomi,199,4.6
poco x5 pro,xiaomi,299,4.4
```

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.7+.

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ `requirements.txt`:

```text
tabulate
pytest
```

---

## üßë‚Äçüíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
python main.py --file <–ø—É—Ç—å_–∫_csv> [--where <—É—Å–ª–æ–≤–∏–µ>] [--aggregate <–∞–≥—Ä–µ–≥–∞—Ü–∏—è>]
```

### üìå –ê—Ä–≥—É–º–µ–Ω—Ç—ã

| –ê—Ä–≥—É–º–µ–Ω—Ç | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ                                                   |
| ---------------- | ------------------------ | ------------------------------------------------------------------ |
| `--file`       | ‚úÖ                       | –ü—É—Ç—å –∫ CSV-—Ñ–∞–π–ª—É                                         |
| `--where`      | ‚ùå                       | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:`column==value`,`column>value`, –∏ —Ç.–ø. |
| `--aggregate`  | ‚ùå                       | –ê–≥—Ä–µ–≥–∞—Ü–∏—è: `column=avg                                    |

---

### üîç –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞

#### ‚úÖ –í—ã–≤–µ—Å—Ç–∏ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏

```bash
python3 main.py --file products.csv

| name             | brand   |   price |   rating |
|------------------|---------|---------|----------|
| iphone 15 pro    | apple   |     999 |      4.9 |
| galaxy s23 ultra | samsung |    1199 |      4.8 |
| redmi note 12    | xiaomi  |     199 |      4.6 |
| iphone 14        | apple   |     799 |      4.7 |
| galaxy a54       | samsung |     349 |      4.2 |
| poco x5 pro      | xiaomi  |     299 |      4.4 |
| iphone se        | apple   |     429 |      4.1 |
| galaxy z flip 5  | samsung |     999 |      4.6 |
| redmi 10c        | xiaomi  |     149 |      4.1 |
| iphone 13 mini   | apple   |     599 |      4.5 |
```

#### üîç –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –±—Ä–µ–Ω–¥—É

```bash
python3 main.py --file products.csv --where "brand==xiaomi"

| name          | brand   |   price |   rating |
|---------------|---------|---------|----------|
| redmi note 12 | xiaomi  |     199 |      4.6 |
| poco x5 pro   | xiaomi  |     299 |      4.4 |
| redmi 10c     | xiaomi  |     149 |      4.1 |
```

#### üìà –ü–æ—Å—á–∏—Ç–∞—Ç—å –º–∞–∫—Å–∏–º—É–º –ø–æ —Ü–µ–Ω–µ

```bash
python3 main.py --file products.csv --aggregate "price=max"

|   max(price) |
|--------------|
|         1199 |
```

#### üîó –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—é

```bash
python3 main.py --file products.csv --where "brand==xiaomi" --aggregate "rating=min"

|   min(rating) |
|---------------|
|           4.1 |
```

---

## üß™ –¢–µ—Å—Ç—ã

–¢–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `tests/` –∏ –ø–æ–∫—Ä—ã–≤–∞—é—Ç:

* —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é (–≤—Å–µ —Ç–∏–ø—ã —É—Å–ª–æ–≤–∏–π)
* –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ (–≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)
* –æ—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –≤–≤–æ–¥–µ
* –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ —á–µ—Ä–µ–∑ CLI

### ‚ñ∂ –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
pytest
```

### üìä –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `pytest-cov`, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ:

```bash
pip install pytest-cov
pytest --cov=.
```

---
